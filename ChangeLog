1999-03-12    <stanton@GASPODE>

	* generic/tcl.h: Changed magic number so it doesn't match the plus
	patch, at Jan's request.

1999-03-11    <stanton@GASPODE>

	* unix/tclConfig.sh.in:
	* unix/dltest/Makefile.in:
	* unix/dltest/configure.in:
	* unix/dltest/pkga.c:
	* unix/dltest/pkgb.c:
	* unix/dltest/pkgc.c:
	* unix/dltest/pkgd.c:
	* unix/dltest/pkge.c:
	* unix/dltest/pkgf.c: Changed package tests to build against the
	stubs library.

1999-03-10    <stanton@GASPODE>

	* generic/tclAlloc.c: Changed TCL_NATIVE_MALLOC to USE_TCLALLOC so
	it matches 8.1.
	
	* generic/tclBasic.c:
	* generic/tcl.h: 
	* generic/tcl.decls: Changed Tcl_ReleaseType from an enum to
	macros so it can be used in .rc files.
	Added Tcl_GetString.

	* unix/Makefile.in: Added compat binaries to the stub library.
	Changed compat binaries to always compile with shared flags since
	they need to be shared for the stub library.

1999-03-10    <redman@scriptics.com>

	* generic/tcl.h:
	* generic/tclBasic.c: Add Tcl_GetVersion() to public C API to
	allow checking of the Tcl library's version number at runtime.
	
1999-03-09    <stanton@GASPODE>

	* generic/tcl.h: Changed TCL_STUB_MAGIC back to match plus patch 
        implementation.

	* Regenerated stub interfaces.
	
	* tools/genStubs.tcl: Reorganized code to support mixed generic
	and platform specific tables. 

	* generic/tclInt.decls: Removed TclCompile*Cmd routines from the
	table.

	* generic/tcl.decls: Moved old Unix fd handler routines into
	generic table and modified stubs ordering to match the plus patch.

	* win/tclWinChan.c (FileSeekProc): Fixed bug where errors during
	seeking were not getting propagated.

1999-03-08    <stanton@GASPODE>

	* generic/tclDecls.h:
	* generic/tclStubs.c:
	* generic/tclStubInit.c:
	* generic/tcl.decls: Removed Tcl_InitMemory().

	* generic/tcl.h: Changed TCL_STUB_MAGIC to break binary
	compatibility with plus patch version, since the tables don't
	match. 

1999-03-08    <stanton@GASPODE>

	* win/tclWinInt.h:
	* generic/tclInt.h:
	* generic/tclIntDecls.h:
	* generic/tclIntPlatDecls.h:
	* generic/tclIntPlatStubs.c:
	* generic/tclIntStubs.c:
	* generic/tclStubInit.c:
	* generic/tclInt.decls: Removed initialization and finalization
	routines from the stub table since these should never be called by
	an extension.

1999-03-06    <stanton@GASPODE>

	* unix/Makefile.in: 
	* generic/tcl.decls:
	* generic/tclCompile.h: 
	* generic/tclCompileDecls.h: 
	* generic/tclCompileStubs.c: 
	* generic/tclDecls.h: 
	* generic/tclInt.decls: 
	* generic/tclInt.h: 
	* generic/tclStubInit.c: Removed tclCompile.h functions.  Moved
	TclGetAuxDataType to tclInt.h so it is available for use by
	the TclPro Byte Compiler loader.

1999-03-05    <stanton@GASPODE>

	* unix/configure.in: Applied patch from Jan Nijtmans to fix the
	following problems: 
	    - There seems to be a HP-UX-11 already, which behaves
	      identical to HP-UX-10.
	    - For 64-bit IRIX, SHLIB_LD_LIBS should be set to
	      '${LIBS}'. This also has the side-effect that SHLIB_LD
	      doesn't need the -rpath option any more: it is already part
	      of ${LIBS}
	    - Fix Linux to use the -rpath option.
	    - On Solaris, LD_SEARCH_FLAGS can only be used with the
	      linker, not with the compiler, because the "-Wl," part is
	      missing.
	    - The TCL_LD_SEARCH_FLAGS should be used in static executables
	      as well as dynamically linked ones. Otherwise, static
	      executables have a different search strategy for dynamically
	      loadable stub-enabled extensions than executables using
	      shared libraries.  This effects extensions which load other
	      libraries in turn.

	* generic/tclCompile.h:
	* generic/tclStubInit.c:
	* generic/tclCompileDecls.h:
	* generic/tclCompileStubs.c:
	* generic/tclInt.decls: Added functions from tclCompile.h into a
	new tclCompile interface.

	* generic/tclStubs.c:
	* generic/tclDecls.h:
	* generic/tcl.decls: Added Tcl_InitMemory.

	* generic/tclStubLib.c: Changed to define USE_TCL_STUBS and
	USE_TCL_STUB_PROCS automatically.

	* unix/Makefile.in: Changes to get stubs mechanism working.

	* generic/tclGetDate.y: Updated to reflect tclDate.c changes.
	
	* tools/genStubs.tcl: 
	* generic/tclProc.c:
	* generic/tclStubInit.c: 
	* generic/tclTest.c:
	* unix/tclUnixFile.c:
	* unix/tclUnixPort.h: lint 

	* win/makefile.vc: 
	* generic/tclAlloc.c: Changed USE_NATIVEMALLOC to USE_NATIVE_MALLOC.

1999-03-03    <stanton@GASPODE>

	* unix/tclUnixTime.c: Added TclpGetDate and TclStrftime.

	* unix/tclUnixSock.c: Added TclHasSockets.

	* unix/tclUnixPort.h: Eliminated various Tclp* macros that have
	been replaced with function defintions.

	* win/tclWinInt.h: 
	* win/tclWin32Dll.c: 
	* unix/tclUnixInit.c: Added TclpCheckStackSpace.

	* unix/tclUnixFile.c: 
	* mac/tclMacShLib.exp: 
	* mac/tclMacFile.c: 
	* generic/tclFileName.c: 
	* win/tclWinFile.c: Renamed TclpGetUserHome back to
	TclGetUserHome for patch level compatibility.

	* unix/tclUnixFile.c: Added TclpAccess and TclpState.

	* win/tclWinPort.h: 
	* mac/tclMacPort.h: 
	* mac/tclMacInt.h: 
	* mac/tclMac.h: 
	* generic/tcl.decls: Added Mac specific declarations.

	* mac/tclMacChan.c: Added stub implementation of
	Tcl_MakeFileChannel that doesn't do anything.  This could be
	implemented at a later date.

	* generic/tclStubLib.c: Added internal interface hooks.

	* generic/tclStubs.c: 
	* generic/tclStubInit.c: Added undefs for all of the TCL_MEM_DEBUG
	macros to avoid conflicts with the stub names.
	
	* generic/tclStubInit.c: 
	* generic/tclInt.h: 
	* generic/tclInt.decls: Moved some declarations out of the generic
	and into the platform specific sections.  Added missing
	declarations and Mac specific declarations.

	* win/tclWinTime.c: 
	* unix/tclUnixTime.c: 
	* mac/tclMacTime.c: 
	* generic/tclInt.h: 
	* generic/tclDate.c: 
	* generic/tclClock.c: Created a new opaque TclpTime_t type so
	generic functions that depend on the format of time_t can appear
	in the generic header files.

	* unix/Makefile.in: 
	* generic/tclAlloc.c: Changed so stub versions of TclpAlloc,
	etc. are generated when TCL_MEM_DEBUG is not defined.

	* generic/tclStubInit.c: 
	* generic/tclPanic.c: 
	* generic/tcl.h: 
	* generic/tcl.decls: renamed Tcl_Panic back to panic to avoid
	incompatibilities in a patch release.

1999-03-02    <stanton@GASPODE>

	* unix/Makefile.in:
	* unix/configure.in: 
	* unix/ldAix: Enhanced AIX shared library support.

	* win/tclWinSock.c: Removed a bunch of extraneous PASCAL FAR
	attributes from internal functions.

	* win/tclWinReg.c: Changed registry package to use stubs mechanism
	so it no longer depends on the specific version of Tcl.

	* doc/AddErrInfo.3: 
	* doc/Eval.3: 
	* doc/PkgRequire.3: 
	* doc/SetResult.3: 
	* doc/StringObj.3: 
	* generic/tcl.h:
	* generic/tclBasic.c: 
	* generic/tclPanic.c:
	* generic/tclStringObj.c:
	* generic/tclUtil.c:
	* unix/mkLinks: Added va_list versions of all VARARGS
	functions so they can be invoked from the stub functions.

	* doc/package.n: 
	* doc/PkgRequire.3: 
	* generic/tclPkg.c: Added Tcl_PkgProvideEx, Tcl_RequireEx,
	Tcl_PresentEx, and Tcl_PkgPresent.  Added "package present"
	command.

	* generic/tclFileName.c: 
	* mac/tclMacFile.c: 
	* mac/tclMacShLib.exp: 
	* unix/tclUnixFile.c: 
	* win/tclWinFile.c: Changed so TclGetUserHome is defined on
	all platforms, even though it is currently a noop on mac and
	windows, and renamed it to TclpGetUserHome.

	* generic/tclCkalloc.c: Added stub versions of memory checking
	functions when compiling without TCL_MEM_DEBUG.

	* doc/ByteArrObj.3: 
	* generic/tcl.h:
	* generic/tclBinary.c: 
	* generic/tclObj.c: Ported the 8.1 ByteArray type back to 8.0.
	
	* generic/tcl.decls:
	* generic/tcl.h:
	* generic/tclBasic.c: 
	* generic/tclDecls.h:
	* generic/tclInt.decls:
	* generic/tclInt.h: 
	* generic/tclIntDecls.h:
	* generic/tclIntPlatDecls.h:
	* generic/tclIntPlatStubs.c:
	* generic/tclIntStubs.c:
	* generic/tclPlatDecls.h:
	* generic/tclPlatStubs.c:
	* generic/tclStubInit.c:
	* generic/tclStubLib.c:
	* generic/tclStubs.c:
	* tools/genStubs.tcl:
	* unix/configure.in:
	* unix/Makefile.in:
	* unix/tclConfig.sh.in:
	* win/makefile.vc:  
	* win/tclWinPort.h: Added Tcl stubs implementation.  There are
	now two new macros USE_TCL_STUBS and USE_TCL_STUB_PROCS that
	enable use of stubs and disable stub macros respectively.  All of
	the public and private function declarations from tcl.h and
	tclInt.h have moved into the *.decls files and the *Stubs.c and
	*Decls.h files are generated using the genStubs.tcl script.

1999-02-27    <stanton@GASPODE>

	* generic/tclPanic.c:
	* generic/panic.c: renamed panic to Tcl_Panic, added macro for
	backwards compatibility, renamed file to tclPanic.c

